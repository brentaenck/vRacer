<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>vRacer - Vector Racing Game</title>
    <meta name="description" content="Professional vector racing game with multi-player support, realistic physics, and competitive gameplay" />
    <meta name="theme-color" content="#00d4ff" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3e%3ctext y='.9em' font-size='90'%3eüèÅ%3c/text%3e%3c/svg%3e" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/src/styles.css" />
  </head>
  <body>
    <div id="app">
      <header role="banner">
        <div class="header-brand">
          <h1>
            üèÅ vRacer
            <span class="version">v1.1.0</span>
          </h1>
          <p class="tagline">Professional Vector Racing</p>
        </div>
        
        <div id="gameHUD" class="game-hud">
          <div class="hud-section">
            <div id="playerInfo" class="hud-info"></div>
            <div id="gameStatus" class="hud-status"></div>
          </div>
          <div id="performanceMetrics" class="hud-metrics"></div>
        </div>
        
        <nav class="controls" role="navigation" aria-label="Game controls">
          <button id="configBtn" title="Game Settings" class="btn-config" aria-label="Open game settings">
            <span class="hamburger-icon">
              <span class="hamburger-line"></span>
              <span class="hamburger-line"></span>
              <span class="hamburger-line"></span>
            </span>
          </button>
        </nav>
      </header>
      
      <main role="main">
        <section class="game-area">
          <canvas 
            id="canvas" 
            width="1000" 
            height="700" 
            role="application"
            aria-label="vRacer game canvas - use mouse to select moves or keyboard controls"
            tabindex="0"
          ></canvas>
          <div class="game-overlay" id="gameOverlay">
            <!-- Dynamic overlay content will be inserted here -->
          </div>
        </section>
        
        <aside id="sidebar" role="complementary" aria-label="Game information and help">
          <section class="status-section">
            <h2>
              <span class="section-icon">üìä</span>
              Game Status
            </h2>
            <div id="status" role="log" aria-live="polite"></div>
          </section>
          
          <section class="help-section">
            <h2>
              <span class="section-icon">‚ùì</span>
              How to Play
            </h2>
            <div class="help-content">
              <div class="help-category">
                <h3>üéØ Objective</h3>
                <ul>
                  <li>Complete <strong>3 laps</strong> around the track</li>
                  <li>Cross the <strong>checkered finish line</strong> in the correct direction</li>
                  <li>Beat other players in multi-car races!</li>
                </ul>
              </div>
              
              <div class="help-category">
                <h3>üïπÔ∏è Controls</h3>
                <ul>
                  <li><strong>Mouse:</strong> Click highlighted nodes to move</li>
                  <li><strong>Keyboard:</strong> WASD or arrow keys</li>
                  <li><strong>Diagonals:</strong> Q/E/Z/X keys</li>
                  <li><strong>Coast:</strong> Space or Enter (no acceleration)</li>
                  <li><strong>Undo:</strong> U or Ctrl+Z</li>
                </ul>
              </div>
              
              <div class="help-category">
                <h3>‚ö° Physics</h3>
                <ul>
                  <li>Velocity changes by <strong>-1, 0, or +1</strong> each turn</li>
                  <li>Cars have <strong>momentum</strong> - plan ahead!</li>
                  <li>Stay within track boundaries to avoid crashing</li>
                  <li>Cars can <strong>collide</strong> with each other</li>
                </ul>
              </div>
              
              <div class="help-category">
                <h3>‚å®Ô∏è Shortcuts</h3>
                <ul>
                  <li><kbd>R</kbd> - Reset game</li>
                  <li><kbd>G</kbd> - Toggle grid</li>
                  <li><kbd>C</kbd> - Toggle move candidates</li>
                  <li><kbd>D</kbd> - Toggle debug info</li>
                  <li><kbd>Esc</kbd> - Close settings dialog</li>
                </ul>
                
                <div class="help-category">
                  <h3>‚öôÔ∏è Settings</h3>
                  <p>Click the <strong>hamburger menu</strong> (‚ò∞) in the header to access game settings including reset, display options, and developer tools.</p>
                </div>
              </div>
            </div>
          </section>
          
          <section class="features-section">
            <h2>
              <span class="section-icon">üöÄ</span>
              Features
            </h2>
            <div class="feature-badges">
              <span class="badge badge-enabled">Multi-Car Racing</span>
              <span class="badge badge-enabled">Car Collisions</span>
              <span class="badge badge-enabled">Advanced Controls</span>
              <span class="badge badge-enabled">Particle Effects</span>
              <span class="badge badge-enabled">Performance Metrics</span>
            </div>
          </section>
        </aside>
      </main>
      
      <footer role="contentinfo">
        <div class="footer-content">
          <div class="footer-info">
            <strong>vRacer v1.1.0</strong> ‚Ä¢ 
            <span class="text-accent">Professional Vector Racing Game</span>
          </div>
          <div class="footer-links">
            <span>MIT License</span> ‚Ä¢ 
            <a href="https://github.com/brentaenck/vRacer" target="_blank" rel="noopener" class="footer-link">
              View Source
            </a>
          </div>
        </div>
      </footer>
      
      <!-- Configuration Dialog Modal -->
      <div id="configModal" class="modal-overlay" role="dialog" aria-labelledby="config-title" aria-hidden="true">
        <div class="modal-content">
          <header class="modal-header">
            <h2 id="config-title">‚öôÔ∏è Game Settings</h2>
            <button id="closeConfigBtn" class="btn-close" aria-label="Close settings">
              <span>&times;</span>
            </button>
          </header>
          
          <div class="modal-body">
            <section class="config-section">
              <h3>üéÆ Game Controls</h3>
              <div class="config-group">
                <button id="resetBtn" title="Reset game (R key)" class="btn-reset btn-full">
                  <span class="btn-icon">üîÑ</span>
                  Reset Game
                  <span class="shortcut">R</span>
                </button>
              </div>
            </section>
            
            <section class="config-section">
              <h3>üëÅÔ∏è Display Options</h3>
              <div class="config-group">
                <label class="config-toggle">
                  <input id="gridToggle" type="checkbox" checked />
                  <span class="toggle-slider"></span>
                  <div class="toggle-info">
                    <span class="toggle-label">Show Grid</span>
                    <span class="toggle-desc">Display grid lines on the track</span>
                  </div>
                  <span class="shortcut">G</span>
                </label>
                
                <label class="config-toggle">
                  <input id="candToggle" type="checkbox" checked />
                  <span class="toggle-slider"></span>
                  <div class="toggle-info">
                    <span class="toggle-label">Show Moves</span>
                    <span class="toggle-desc">Highlight possible move candidates</span>
                  </div>
                  <span class="shortcut">C</span>
                </label>
              </div>
            </section>
            
            <section class="config-section">
              <h3>üêõ Developer Options</h3>
              <div class="config-group">
                <label class="config-toggle">
                  <input id="debugToggle" type="checkbox" />
                  <span class="toggle-slider"></span>
                  <div class="toggle-info">
                    <span class="toggle-label">Debug Mode</span>
                    <span class="toggle-desc">Show performance metrics and debug info</span>
                  </div>
                  <span class="shortcut">D</span>
                </label>
              </div>
            </section>
          </div>
          
          <footer class="modal-footer">
            <p class="modal-hint">Press <kbd>Esc</kbd> to close this dialog</p>
          </footer>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>

